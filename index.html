<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relationship Manager's Journey at Ita√∫ Unibanco</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Three.js CDN for 3D rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            /* Changed overflow to auto to allow full page scrolling */
            overflow-y: auto;
            overflow-x: hidden; /* Prevent horizontal scrolling */
            background-color: #0a0a0a; /* Fallback dark background */
        }
        #three-container {
            position: fixed; /* Keeps the 3D background static */
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1; /* Place behind content */
        }
        canvas {
            display: block;
        }
        /* Custom scrollbar for the main body content */
        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-radius: 10px;
        }
        body::-webkit-scrollbar-thumb {
            background: #4a4a4a;
            border-radius: 10px;
        }
        body::-webkit-scrollbar-thumb:hover {
            background: #6a6a6a;
        }
        .section-box {
            background-color: #1a1a1a; /* Darker background for boxes */
            background-opacity: 0.6; /* Slightly less opaque */
            backdrop-filter: blur(6px); /* Stronger blur for differentiation */
            border: 1px solid #2d2d2d; /* Subtle border */
            border-radius: 0.75rem; /* Rounded corners */
            padding: 1.5rem; /* Padding inside boxes */
            margin-bottom: 1.5rem; /* Space between boxes */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Subtle shadow */
        }
        /* Styling for the table */
        .custom-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        .custom-table th, .custom-table td {
            border: 1px solid #333;
            padding: 0.75rem;
            text-align: left;
        }
        .custom-table th {
            background-color: #2a2a2a;
            font-weight: 600;
            color: #ccc;
        }
        .custom-table td {
            background-color: #1a1a1a;
            color: #bbb;
        }
        .custom-table tr:nth-child(even) td {
            background-color: #1f1f1f;
        }
        .clickable-term {
            cursor: pointer;
            text-decoration: underline;
            color: #818cf8; /* Indigo 400 for consistency */
            margin: 0.25rem 0.5rem;
            display: inline-block;
            transition: color 0.2s ease-in-out;
        }
        .clickable-term:hover {
            color: #a78bfa; /* Indigo 300 on hover */
        }
        /* Styling for the new Top Picks selection */
        .term-selection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #2a2a2a;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            border: 1px solid #4a4a4a;
        }
        .term-selection-item button {
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 600;
            transition: background-color 0.2s ease-in-out;
        }
        .select-btn {
            background-color: #4CAF50; /* Green */
            color: white;
        }
        .select-btn:hover {
            background-color: #45a049;
        }
        .remove-btn {
            background-color: #F44336; /* Red */
            color: white;
        }
        .remove-btn:hover {
            background-color: #da190b;
        }
        .select-btn:disabled, .remove-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="text-gray-100 antialiased">

    <!-- Container for the Three.js canvas -->
    <div id="three-container"></div>

    <!-- Main content area -->
    <div class="relative z-10 w-full flex flex-col items-center p-4 content-area py-12 min-h-screen">
        <div class="bg-gray-800 bg-opacity-70 backdrop-blur-sm rounded-xl p-8 md:p-12 shadow-2xl max-w-4xl w-full text-center border border-gray-700 mb-8">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-white leading-tight">The Relationship Manager's journey at Ita√∫ Unibanco</h1>
            <h2 class="text-2xl md:text-3xl font-semibold mb-6 text-indigo-400">guiding middle-market clients through the credit lifecycle</h2>
            <p class="text-lg md:text-xl text-gray-300 mb-8">
                As a <strong class="text-white">Relationship Manager, Middle Market</strong> at Ita√∫ Unibanco, my <u class="underline">role</u> is to serve as the <u class="underline">primary point of contact</u> and strategic partner for medium and large businesses. My objective is to guide them through our <u class="underline">comprehensive</u> credit approval process, ensuring their financial needs are met with <u class="underline">tailored solutions</u> while <u class="underline">upholding</u> Ita√∫'s <u class="underline">rigorous</u> <u class="underline">risk assessment</u> standards. This journey involves a <u class="underline">blend</u> of client <u class="underline">advocacy</u>, financial analysis, and continuous monitoring.
            </p>

            <!-- Explanation of Underlined Terms -->
            <div class="mt-8 pt-4 border-t border-gray-700 text-left">
                <h4 class="text-xl font-semibold mb-3 text-indigo-200">Key terms explained:</h4>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li><strong class="text-white">Role</strong> (Fun√ß√£o): Your specific functions and responsibilities within the bank.</li>
                    <li><strong class="text-white">Primary point of contact</strong> (Ponto de contato principal): The main person clients interact with for their banking needs.</li>
                    <li><strong class="text-white">Comprehensive</strong> (Abrangente): All-encompassing; covering all necessary aspects of the credit process.</li>
                    <li><strong class="text-white">Tailored solutions</strong> (Solu√ß√µes personalizadas): Financial products and services customized to fit individual client needs.</li>
                    <li><strong class="text-white">Upholding</strong> (Mantendo/Apoiando): Maintaining or supporting; ensuring standards are met consistently.</li>
                    <li><strong class="text-white">Rigorous</strong> (Rigoroso): Extremely thorough and careful; strict and precise.</li>
                    <li><strong class="text-white">Risk assessment</strong> (Avalia√ß√£o de risco): The process of identifying, evaluating, and estimating the levels of risk involved in a financial transaction.</li>
                    <li><strong class="text-white">Blend</strong> (Mistura): A mix or combination of different elements or skills.</li>
                    <li><strong class="text-white">Advocacy</strong> (Defesa/Apoio): Active support of a cause or policy; representing and championing the client's needs within the bank.</li>
                </ul>
            </div>
        </div>

        <!-- Phase 1: Initial Engagement & Deep Business Understanding -->
        <div class="section-box max-w-4xl w-full">
            <h3 class="text-3xl font-bold mb-4 text-indigo-300">Phase 1: Initial engagement & deep business understanding</h3>
            <p class="text-gray-300 mb-4">
                This critical first phase is about building a strong foundation with the client. It's where I <u class="underline">immerse myself</u> in their world to truly <u class="underline">grasp</u> their operational and <u class="underline">financial landscape</u>.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4">
                <li>
                    <strong class="text-white">Discovery Meeting</strong> (Reuni√£o de Descoberta): This is more than just an introduction; it's an <u class="underline">in-depth conversation</u> to understand the client's business model, current funding needs, and long-term strategic objectives.
                    <ul class="list-disc list-inside ml-6 text-gray-400 space-y-1">
                        <li><strong class="text-gray-200">Business Model Dissection</strong> (Disseca√ß√£o do Modelo de Neg√≥cios): I evaluate revenue streams, market positioning, competitive advantages, and the client's <u class="underline">unique value proposition</u>.</li>
                        <li><strong class="text-gray-200">Project Feasibility Screening</strong> (Triagem de Viabilidade do Projeto): We identify whether the financing requirement is for immediate operational needs or a larger, long-term strategic project.</li>
                        <li><strong class="text-gray-200">Regulatory Alignment Check</strong> (Verifica√ß√£o de Alinhamento Regulat√≥rio): Crucially, I confirm that the client's operations <u class="underline">comply with</u> all relevant Brazilian financial regulations and sector-specific laws. For instance, agricultural clients are screened for <strong class="text-indigo-400"><u class="underline">environmental embargoes</u></strong> to ensure no <u class="underline">deforestation</u> links.</li>
                    </ul>
                </li>
                <li>
                    <strong class="text-white">Key Challenge</strong> (Desafio principal): A significant <u class="underline">hurdle</u> here is uncovering <strong class="text-indigo-400">hidden operational risks</strong> or <u class="underline">undisclosed liabilities</u>. This requires meticulous questioning, <u class="underline">thorough</u> document verification, and sometimes, site visits to gain a complete picture.
                </li>
            </ul>

            <!-- Explanation of Underlined Terms for Phase 1 -->
            <div class="mt-8 pt-4 border-t border-gray-700 text-left">
                <h4 class="text-xl font-semibold mb-3 text-indigo-200">Key terms explained (Phase 1):</h4>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li><strong class="text-white">Immerse myself</strong> (Imers√£o): To become deeply involved or absorbed in understanding the client's business.</li>
                    <li><strong class="text-white">Grasp</strong> (Compreender): To understand completely; to get a firm hold of the details.</li>
                    <li><strong class="text-white">Financial landscape</strong> (Cen√°rio financeiro): The overall economic and financial environment in which the client operates.</li>
                    <li><strong class="text-white">In-depth conversation</strong> (Conversa aprofundada): A detailed and thorough discussion to uncover all relevant information.</li>
                    <li><strong class="text-white">Business model dissection</strong> (Disseca√ß√£o do modelo de neg√≥cios): A detailed analysis of how a company creates, delivers, and captures value.</li>
                    <li><strong class="text-white">Revenue streams</strong> (Fluxos de receita): The various sources from which a business generates income.</li>
                    <li><strong class="text-white">Unique value proposition</strong> (Proposta de valor √∫nica): What makes a company's products or services distinct and appealing to customers.</li>
                    <li><strong class="text-white">Feasibility Screening</strong> (Triagem de viabilidade): Initial assessment to determine if a project or financing request is viable.</li>
                    <li><strong class="text-white">Comply with</strong> (Estar em conformidade com): To act in accordance with a rule, regulation, or request.</li>
                    <li><strong class="text-white">Environmental embargoes</strong> (Embargos ambientais): Legal prohibitions or restrictions imposed due to environmental violations.</li>
                    <li><strong class="text-white">Deforestation</strong> (Desmatamento): The clearing of forests by cutting down or burning trees.</li>
                    <li><strong class="text-white">Hurdle</strong> (Obst√°culo): A difficulty or obstacle.</li>
                    <li><strong class="text-white">Undisclosed liabilities</strong> (Passivos n√£o divulgados): Debts or obligations that are not openly revealed or accounted for.</li>
                    <li><strong class="text-white">Thorough</strong> (Completo/Minucioso): Complete and exhaustive; careful and precise.</li>
                </ul>
            </div>
        </div>

        <!-- Phase 2: Deep-Dive Feasibility Analysis & Risk Assessment -->
        <div class="section-box max-w-4xl w-full">
            <h3 class="text-3xl font-bold mb-4 text-indigo-300">Phase 2: <u class="underline">Deep-dive</u> (An√°lise aprofundada) <u class="underline">feasibility</u> (Viabilidade) analysis & risk assessment</h3>
            <p class="text-gray-300 mb-4">
                Once I have a solid understanding of the client, we move into a multi-layered assessment to evaluate their financial health and overall risk profile.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4">
                <li>
                    <strong class="text-white">Financial Diagnostics</strong> (Diagn√≥stico Financeiro): This involves a detailed examination of cash flow patterns, debt ratios, and collateral coverage. For <strong class="text-indigo-400"><u class="underline">SMEs</u></strong> (PMEs), we heavily rely on the <strong class="text-indigo-400"><u class="underline">Five Cs framework</u></strong> (Estrutura dos Cinco Cs):
                    <ul class="list-disc list-inside ml-6 text-gray-400 space-y-1">
                        <li><strong class="text-gray-200">Character</strong> (Car√°ter): The borrower's integrity and <u class="underline">track record</u> (Hist√≥rico).</li>
                        <li><strong class="text-gray-200">Capacity</strong> (Capacidade): The ability to repay based on cash flow.</li>
                        <li><strong class="text-gray-200">Capital</strong> (Capital): The owner's equity contribution to the business.</li>
                        <li><strong class="text-gray-200">Conditions</strong> (Condi√ß√µes): Economic and industry factors influencing the business.</li>
                        <li><strong class="text-gray-200">Collateral</strong> (Garantia): Assets available to secure the loan.</li>
                    </ul>
                </li>
                <li><strong class="text-white">Sector-Specific Risk Mapping</strong> (Mapeamento de Risco Espec√≠fico do Setor): I apply Ita√∫'s internal guidelines for high-risk sectors. For example, energy clients face <u class="underline">enhanced scrutiny</u> (An√°lise aprimorada) under our <strong class="text-indigo-400"><u class="underline">coal phase-out commitment</u></strong> (Compromisso de descarboniza√ß√£o do carv√£o), which restricts thermal coal financing by 2030.</li>
                <li>
                    <strong class="text-white">ESG Integration</strong> (Integra√ß√£o ESG): A fundamental part of our assessment involves applying the <strong class="text-indigo-400">Environmental and Social Risk Committee</strong> (Comit√™ de Risco Ambiental e Social) protocols. This ensures we evaluate:
                    <ul class="list-disc list-inside ml-6 text-gray-400 space-y-1">
                        <li><strong class="text-gray-200">Land Use Legality</strong> (Legalidade do Uso da Terra): Verification of compliance regarding indigenous territories and protected areas.</li>
                        <li><strong class="text-gray-200">Climate Vulnerability</strong> (Vulnerabilidade Clim√°tica): Assessing exposure to climate risks like <u class="underline">flood zones</u> (Zonas de inunda√ß√£o) and emissions intensity.</li>
                        <li><strong class="text-gray-200">Labor Practices</strong> (Pr√°ticas Trabalhistas): Checking for <u class="underline">adherence</u> (Ades√£o) to international standards, such as <strong class="text-indigo-400">ISO 14001-certified supply chains</strong> (Cadeias de suprimentos certificadas ISO 14001), which demonstrates robust environmental management.</li>
                    </ul>
                </li>
                <li><strong class="text-white">Data Hurdle</strong> (Obst√°culo de Dados): A common challenge, especially with <strong class="text-indigo-400">SMEs</strong> (PMEs), is the lack of formal financial records. In such cases, I may need to rely on alternative validation methods like transaction histories or supplier testimonials to build a comprehensive financial picture.</li>
            </ul>

            <!-- Explanation of Underlined Terms for Phase 2 -->
            <div class="mt-8 pt-4 border-t border-gray-700 text-left">
                <h4 class="text-xl font-semibold mb-3 text-indigo-200">Key terms explained (Phase 2):</h4>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li><strong class="text-white">Deep-dive</strong> (An√°lise aprofundada): A thorough and detailed investigation or analysis.</li>
                    <li><strong class="text-white">Feasibility</strong> (Viabilidade): The state or degree of being easily or conveniently done; practicability.</li>
                    <li><strong class="text-white">SMEs</strong> (Pequenas e M√©dias Empresas): Small and Medium-sized Enterprises, typically defined by number of employees, revenue, or assets.</li>
                    <li><strong class="text-white">Framework</strong> (Estrutura): A basic structure underlying a system, concept, or text.</li>
                    <li><strong class="text-white">Track record</strong> (Hist√≥rico): The past achievements or failures of a person, organization, or product.</li>
                    <li><strong class="text-white">Enhanced scrutiny</strong> (An√°lise aprimorada): Increased or more careful examination and inspection.</li>
                    <li><strong class="text-white">Coal phase-out commitment</strong> (Compromisso de descarboniza√ß√£o do carv√£o): An agreement to gradually stop the use of coal, often in power generation.</li>
                    <li><strong class="text-white">Flood zones</strong> (Zonas de inunda√ß√£o): Areas identified by flood hazard mapping where there is a risk of flooding.</li>
                    <li><strong class="text-white">Adherence</strong> (Ades√£o): Sticking fast to a rule, principle, or belief.</li>
                </ul>
            </div>
        </div>

        <!-- Phase 3: Loan Structuring & Terms Negotiation -->
        <div class="section-box max-w-4xl w-full">
            <h3 class="text-3xl font-bold mb-4 text-indigo-300">Phase 3: Loan structuring & terms negotiation</h3>
            <p class="text-gray-300 mb-4">
                Based on the thorough assessment, I work to <u class="underline">design a customized financial solution</u> (Desenhar uma solu√ß√£o financeira personalizada) that aligns with the client's needs and their risk profile.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4">
                <li><strong class="text-white">Pricing Calibration</strong> (Calibra√ß√£o de Pre√ßos): The interest rates are carefully <u class="underline">calibrated</u> (Calibradas) to reflect the client's <strong class="text-indigo-400">credit risk rating</strong> (Classifica√ß√£o de risco de cr√©dito), which is derived from a combination of their environmental/social scores and financial health.</li>
                <li><strong class="text-white">Repayment Architecture</strong> (Estrutura de Pagamento): I <u class="underline">structure repayment installments</u> (Estruturo parcelas de pagamento) to align with the client's unique business cycles. For instance, agribusiness clients might have repayments scheduled around <u class="underline">harvest seasons</u> (Per√≠odos de colheita).</li>
                <li><strong class="text-white">Specialized Programs</strong> (Programas Especializados): For qualifying <strong class="text-indigo-400">SMEs</strong> (PMEs) in Brazil's North/Northeast regions, I can <u class="underline">allocate funds</u> (Alocar fundos) under our <strong class="text-indigo-400">2X SME initiatives</strong> (Iniciativas 2X PME), which specifically target women-led enterprises, reflecting Ita√∫'s commitment to inclusive growth.</li>
                <li><strong class="text-white">Complex Negotiation</strong> (Negocia√ß√£o Complexa): Balancing the client's repayment capacity with Ita√∫'s <strong class="text-indigo-400">Risk Appetite Statement</strong> (Declara√ß√£o de Apetite a Risco) limits often requires creative solutions, such as alternative collateral arrangements or guarantees, to reach a mutually beneficial agreement.</li>
            </ul>

            <!-- Explanation of Underlined Terms for Phase 3 -->
            <div class="mt-8 pt-4 border-t border-gray-700 text-left">
                <h4 class="text-xl font-semibold mb-3 text-indigo-200">Key terms explained (Phase 3):</h4>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li><strong class="text-white">Design a customized financial solution</strong> (Desenhar uma solu√ß√£o financeira personalizada): To create a financial product or service that is specifically adapted to a client's unique needs and circumstances.</li>
                    <li><strong class="text-white">Calibrated</strong> (Calibradas): Precisely adjusted or measured to ensure accuracy and alignment.</li>
                    <li><strong class="text-white">Structure repayment installments</strong> (Estruturar parcelas de pagamento): To organize the schedule and amount of loan repayments to fit the borrower's cash flow.</li>
                    <li><strong class="text-white">Harvest seasons</strong> (Per√≠odos de colheita): The periods when crops are gathered; refers to cyclical business income for agricultural clients.</li>
                    <li><strong class="text-white">Allocate funds</strong> (Alocar fundos): To set aside or distribute money for a specific purpose or recipient.</li>
                </ul>
            </div>

            <!-- Gemini API Feature: Client Pitch Generator -->
            <div class="section-box mt-8 border-indigo-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800">
                <h4 class="text-2xl font-bold mb-4 text-white flex items-center justify-center">
                    ‚ú® Client pitch generator ‚ú®
                </h4>
                <p class="text-gray-300 mb-4 text-center">
                    Generate a tailored credit pitch for your client using AI.
                </p>
                <div class="space-y-4">
                    <div>
                        <label for="businessType" class="block text-gray-300 text-sm font-bold mb-2">
                            Client Business Type:
                        </label>
                        <input type="text" id="businessType" class="shadow appearance-none border border-gray-700 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-indigo-500" placeholder="e.g., Textile Manufacturer, Agricultural Exporter">
                    </div>
                    <div>
                        <label for="financingNeed" class="block text-gray-300 text-sm font-bold mb-2">
                            Financing Need:
                        </label>
                        <input type="text" id="financingNeed" class="shadow appearance-none border border-gray-700 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-indigo-500" placeholder="e.g., Expansion Capital, Working Capital, Equipment Purchase">
                    </div>
                    <button id="generatePitchBtn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 flex items-center justify-center">
                        Generate Pitch <span class="ml-2">‚ú®</span>
                    </button>
                    <div id="loadingIndicator" class="hidden text-center text-indigo-400 mt-4">
                        Generating... Please wait.
                    </div>
                    <div id="pitchOutput" class="mt-6 p-4 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 whitespace-pre-wrap hidden">
                        <!-- Generated pitch will appear here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Phase 4: Risk Committee Review & Approval -->
        <div class="section-box max-w-4xl w-full">
            <h3 class="text-3xl font-bold mb-4 text-indigo-300">Phase 4: Risk committee review & approval</h3>
            <p class="text-gray-300 mb-4">
                Once the proposal is structured, it undergoes a rigorous internal governance process to ensure compliance and mitigate risk.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4">
                <li><strong class="text-white">Pre-Committee Screening</strong> (Triagem Pr√©-Comit√™): The Risk Management (AR) team validates the proposal's compliance with Ita√∫'s <strong class="text-indigo-400">Credit Risk Management and Control Policy</strong> (Pol√≠tica de Gest√£o e Controle de Risco de Cr√©dito).</li>
                <li><strong class="text-white">Committee Deliberation</strong> (Delibera√ß√£o do Comit√™): Cases exceeding <u class="underline">predefined thresholds</u> (Limites predefinidos), particularly <u class="underline">projects triggering</u> (Projetos que acionam) <strong class="text-indigo-400">Equator Principles</strong> (Princ√≠pios do Equador) criteria (an international risk framework for project finance), require review by the <strong class="text-indigo-400">Environmental and Social Risk Committee</strong> (Comit√™ de Risco Ambiental e Social).</li>
                <li><strong class="text-white">Final Authorization</strong> (Autoriza√ß√£o Final): For large exposures, executive leadership within the <strong class="text-indigo-400">Sustainability Finance Committee</strong> (Comit√™ de Finan√ßas Sustent√°veis) provides final approval.</li>
                <li><strong class="text-white">Key Rigor</strong> (Rigor Chave): Transactions in sensitive sectors, such as Amazonian meatpackers, face specific <strong class="text-indigo-400">SARB Directive No. 26</strong> (Diretriz SARB N¬∫ 26) audits to prevent complicity in deforestation. This demonstrates Ita√∫'s commitment to responsible lending.</li>
            </ul>

            <!-- Explanation of Underlined Terms for Phase 4 -->
            <div class="mt-8 pt-4 border-t border-gray-700 text-left">
                <h4 class="text-xl font-semibold mb-3 text-indigo-200">Key terms explained (Phase 4):</h4>
                <ul class="list-disc list-inside text-gray-300 space-y-2">
                    <li><strong class="text-white">Predefined thresholds</strong> (Limites predefinidos): Specific limits or criteria that, if exceeded, require a particular action or review.</li>
                    <li><strong class="text-white">Projects triggering</strong> (Projetos que acionam): Projects that meet certain criteria, thereby activating or necessitating a specific process or framework (like the Equator Principles).</li>
                </ul>
            </div>
        </div>

        <!-- Phase 5: Post-Disbursement Monitoring & Relationship Management -->
        <div class="section-box max-w-4xl w-full">
            <h3 class="text-3xl font-bold mb-4 text-indigo-300">Phase 5: Post-disbursement monitoring & relationship management</h3>
            <p class="text-gray-300 mb-4">
                My role extends well beyond the initial loan approval. Continuous monitoring and proactive engagement are crucial for the long-term health of the client relationship and the bank's portfolio.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4">
                <li><strong class="text-white">Portfolio Surveillance</strong> (Monitoramento de Portf√≥lio): I continuously track covenant compliance through regular (e.g., quarterly) financial disclosures from the client.</li>
                <li><strong class="text-white">Early-Warning Triggers</strong> (Gatilhos de Alerta Antecipado): Automated alerts are deployed to notify me of payment delays or any ESG incidents that might impact the client's risk profile.</li>
                <li>
                    <strong class="text-white">Dynamic Reassessment</strong> (Reavalia√ß√£o Din√¢mica): I proactively adjust risk ratings based on:
                    <ul class="list-disc list-inside ml-6 text-gray-400 space-y-1">
                        <li>Material <strong class="text-indigo-400">environmental/social incidents</strong> (Incidentes ambientais/sociais), such as regulatory penalties.</li>
                        <li>Macroeconomic shifts that could affect repayment capacity.</li>
                        <li>Developments in climate vulnerability impacting the client's operations.</li>
                    <li><strong class="text-indigo-400">Flood zones</strong> (Zonas de inunda√ß√£o): Areas identified by flood hazard mapping where there is a risk of flooding.</li>
                    </ul>
                </li>
                <li><strong class="text-white">Proactive Challenge</strong> (Desafio Proativo): Detecting emerging risks, such as supply chain disruptions, requires constant sector intelligence and an ongoing, open dialogue with the client. My role is to be a trusted advisor, helping them navigate challenges and identify new opportunities.</li>
            </ul>
        </div>

        <!-- Exercise Section -->
        <div class="section-box max-w-4xl w-full border-green-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800">
            <h3 class="text-3xl font-bold mb-4 text-green-300 flex items-center justify-center">
                üß† Quick check: Your knowledge matters! üß†
            </h3>
            <p class="text-gray-300 mb-4 text-center">
                Test your understanding of a key concept from the Relationship Manager's journey.
            </p>
            <div class="space-y-4">
                <div>
                    <label for="exerciseAnswer" class="block text-gray-300 text-lg font-bold mb-2" id="questionText">
                        <!-- Question will be inserted here by JavaScript -->
                    </label>
                    <input type="text" id="exerciseAnswer" class="shadow appearance-none border border-gray-700 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-green-500" placeholder="Type your answer here...">
                </div>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center mt-4">
                    <button id="checkAnswerBtn" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75">
                        Check Answer
                    </button>
                    <button id="showAnswerBtn" class="w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75">
                        Show Answer
                    </button>
                    <button id="nextQuestionBtn" class="w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 hidden">
                        Next Question
                    </button>
                </div>
                <div id="exerciseFeedback" class="mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center hidden">
                    <!-- Feedback message will appear here -->
                </div>
                <div id="correctAnswerDisplay" class="mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center hidden">
                    <!-- Correct answer will appear here -->
                </div>
            </div>
        </div>

        <!-- New Vocabulary Fill-in-the-Blanks Exercise Section -->
        <div class="section-box max-w-4xl w-full border-purple-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800 mt-8">
            <h3 class="text-3xl font-bold mb-4 text-purple-300 flex items-center justify-center">
                üìù Vocabulary check: Fill in the blank üìù
            </h3>
            <p class="text-gray-300 mb-4 text-center">
                Fill in the missing word in the sentence below.
            </p>
            <div class="space-y-4">
                <div>
                    <label for="vocabularyAnswer" class="block text-gray-300 text-lg font-bold mb-2" id="vocabularyQuestionText">
                        <!-- Vocabulary question will be inserted here by JavaScript -->
                    </label>
                    <input type="text" id="vocabularyAnswer" class="shadow appearance-none border border-gray-700 rounded-lg w-full py-2 px-3 bg-gray-700 text-gray-200 leading-tight focus:outline-none focus:shadow-outline focus:border-purple-500" placeholder="Type the missing word...">
                </div>
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center mt-4">
                    <button id="checkVocabularyBtn" class="w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75">
                        Check Answer
                    </button>
                    <button id="showVocabularyAnswerBtn" class="w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75">
                        Show Answer
                    </button>
                    <button id="nextVocabularyQuestionBtn" class="w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 hidden">
                        Next Question
                    </button>
                </div>
                <div id="vocabularyFeedback" class="mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center hidden">
                    <!-- Feedback message will appear here -->
                </div>
            </div>
        </div>

        <!-- My Top 10 Appreciated Terms -->
        <div class="section-box max-w-4xl w-full border-blue-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800 mt-8">
            <h3 class="text-3xl font-bold mb-4 text-blue-300 flex items-center justify-center">
                ‚ù§Ô∏è my Top 10 Appreciated Terms from This Journey ‚ù§Ô∏è
            </h3>
            <p class="text-gray-300 mb-4 text-center">
                Here are 10 terms from this lesson that I find particularly insightful or important.
            </p>
            <ul class="list-disc list-inside text-gray-300 space-y-2 pl-4 text-left">
                <li><strong class="text-white">Risk assessment</strong> (Avalia√ß√£o de risco): Understanding the inherent dangers in financial transactions.</li>
                <li><strong class="text-white">Tailored solutions</strong> (Solu√ß√µes personalizadas): The ability to customize offerings to fit specific client needs.</li>
                <li><strong class="text-white">ESG Integration</strong> (Integra√ß√£o ESG): Incorporating environmental, social, and governance factors into decision-making.</li>
                <li><strong class="text-white">Five Cs of Credit</strong> (Cinco Cs do Cr√©dito): The fundamental framework for evaluating creditworthiness.</li>
                <li><strong class="text-white">Equator Principles</strong> (Princ√≠pios do Equador): The international benchmark for managing environmental and social risks in project finance.</li>
                <li><strong class="text-white">2X SME initiatives</strong> (Iniciativas 2X PME): Highlighting a commitment to inclusive growth by supporting women-led businesses.</li>
                <li><strong class="text-white">Proactive Challenge</strong> (Desafio Proativo): The ongoing effort to anticipate and address emerging risks.</li>
                <li><strong class="text-white">Portfolio Surveillance</strong> (Monitoramento de Portf√≥lio): Continuous monitoring to maintain the health of client relationships and the bank's assets.</li>
                <li><strong class="text-white">Comprehensive</strong> (Abrangente): Emphasizing the all-encompassing nature of the credit approval process.</li>
                <li><strong class="text-white">Regulatory Alignment Check</strong> (Verifica√ß√£o de Alinhamento Regulat√≥rio): Ensuring operations adhere to legal and ethical standards.</li>
            </ul>
        </div>

        <!-- Interactive Vocabulary: Click to Learn! -->
        <div class="section-box max-w-4xl w-full border-teal-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800 mt-8">
            <h3 class="text-3xl font-bold mb-4 text-teal-300 flex items-center justify-center">
                ‚ú® Interactive Vocabulary: Click to Learn! ‚ú®
            </h3>
            <p class="text-gray-300 mb-4 text-center">
                Click on any term below to reveal its definition.
            </p>
            <div class="flex flex-wrap justify-center mb-6">
                <span class="clickable-term" data-term="Role" data-definition="Your specific functions and responsibilities within the bank." data-portuguese="Fun√ß√£o">Role</span>
                <span class="clickable-term" data-term="Primary point of contact" data-definition="The main person clients interact with for their banking needs." data-portuguese="Ponto de contato principal">Primary point of contact</span>
                <span class="clickable-term" data-term="Comprehensive" data-definition="All-encompassing; covering all necessary aspects of the credit process." data-portuguese="Abrangente">Comprehensive</span>
                <span class="clickable-term" data-term="Tailored solutions" data-definition="Financial products and services customized to fit individual client needs." data-portuguese="Solu√ß√µes personalizadas">Tailored solutions</span>
                <span class="clickable-term" data-term="Upholding" data-definition="Maintaining or supporting; ensuring standards are met consistently." data-portuguese="Mantendo/Apoiando">Upholding</span>
                <span class="clickable-term" data-term="Rigorous" data-definition="Extremely thorough and careful; strict and precise." data-portuguese="Rigoroso">Rigorous</span>
                <span class="clickable-term" data-term="Risk assessment" data-definition="The process of identifying, evaluating, and estimating the levels of risk involved in a financial transaction." data-portuguese="Avalia√ß√£o de risco">Risk assessment</span>
                <span class="clickable-term" data-term="Blend" data-definition="A mix or combination of different elements or skills." data-portuguese="Mistura">Blend</span>
                <span class="clickable-term" data-term="Advocacy" data-definition="Active support of a cause or policy; representing and championing the client's needs within the bank." data-portuguese="Defesa/Apoio">Advocacy</span>
                <span class="clickable-term" data-term="Immerse myself" data-definition="To become deeply involved or absorbed in understanding the client's business." data-portuguese="Imers√£o">Immerse myself</span>
                <span class="clickable-term" data-term="Grasp" data-definition="To understand completely; to get a firm hold of the details." data-portuguese="Compreender">Grasp</span>
                <span class="clickable-term" data-term="Financial landscape" data-definition="The overall economic and financial environment in which the client operates." data-portuguese="Cen√°rio financeiro">Financial landscape</span>
                <span class="clickable-term" data-term="In-depth conversation" data-definition="A detailed and thorough discussion to uncover all relevant information." data-portuguese="Conversa aprofundada">In-depth conversation</span>
                <span class="clickable-term" data-term="Business model dissection" data-definition="A detailed analysis of how a company creates, delivers, and captures value." data-portuguese="Disseca√ß√£o do modelo de neg√≥cios">Business model dissection</span>
                <span class="clickable-term" data-term="Revenue streams" data-definition="The various sources from which a business generates income." data-portuguese="Fluxos de receita">Revenue streams</span>
                <span class="clickable-term" data-term="Unique value proposition" data-definition="What makes a company's products or services distinct and appealing to customers." data-portuguese="Proposta de valor √∫nica">Unique value proposition</span>
                <span class="clickable-term" data-term="Feasibility Screening" data-definition="Initial assessment to determine if a project or financing request is viable." data-portuguese="Triagem de viabilidade">Feasibility Screening</span>
                <span class="clickable-term" data-term="Comply with" data-definition="To act in accordance with a rule, regulation, or request." data-portuguese="Estar em conformidade com">Comply with</span>
                <span class="clickable-term" data-term="Environmental embargoes" data-definition="Legal prohibitions or restrictions imposed due to environmental violations." data-portuguese="Embargos ambientais">Environmental embargoes</span>
                <span class="clickable-term" data-term="Deforestation" data-definition="The clearing of forests by cutting down or burning trees." data-portuguese="Desmatamento">Deforestation</span>
                <span class="clickable-term" data-term="Hurdle" data-definition="A difficulty or obstacle." data-portuguese="Obst√°culo">Hurdle</span>
                <span class="clickable-term" data-term="Undisclosed liabilities" data-definition="Debts or obligations that are not openly revealed or accounted for." data-portuguese="Passivos n√£o divulgados">Undisclosed liabilities</span>
                <span class="clickable-term" data-term="Thorough" data-definition="Complete and exhaustive; careful and precise." data-portuguese="Completo/Minucioso">Thorough</span>
                <span class="clickable-term" data-term="Deep-dive" data-definition="A thorough and detailed investigation or analysis." data-portuguese="An√°lise aprofundada">Deep-dive</span>
                <span class="clickable-term" data-term="Feasibility" data-definition="The state or degree of being easily or conveniently done; practicability." data-portuguese="Viabilidade">Feasibility</span>
                <span class="clickable-term" data-term="SMEs" data-definition="Small and Medium-sized Enterprises." data-portuguese="PMEs">SMEs</span>
                <span class="clickable-term" data-term="Five Cs framework" data-definition="Character, Capacity, Capital, Conditions, Collateral - core for assessing creditworthiness." data-portuguese="Estrutura dos Cinco Cs">Five Cs framework</span>
                <span class="clickable-term" data-term="Track record" data-definition="The past achievements or failures of a person, organization, or product." data-portuguese="Hist√≥rico">Track record</span>
                <span class="clickable-term" data-term="Enhanced scrutiny" data-definition="Increased or more careful examination and inspection." data-portuguese="An√°lise aprimorada">Enhanced scrutiny</span>
                <span class="clickable-term" data-term="Coal phase-out commitment" data-definition="An agreement to gradually stop the use of coal, often in power generation." data-portuguese="Compromisso de descarboniza√ß√£o do carv√£o">Coal phase-out commitment</span>
                <span class="clickable-term" data-term="Flood zones" data-definition="Areas identified by flood hazard mapping where there is a risk of flooding." data-portuguese="Zonas de inunda√ß√£o">Flood zones</span>
                <span class="clickable-term" data-term="Adherence" data-definition="Sticking fast to a rule, principle, or belief." data-portuguese="Ades√£o">Adherence</span>
                <span class="clickable-term" data-term="Design a customized financial solution" data-definition="To create a financial product or service that is specifically adapted to a client's unique needs and circumstances." data-portuguese="Desenhar uma solu√ß√£o financeira personalizada">Design a customized financial solution</span>
                <span class="clickable-term" data-term="Calibrated" data-definition="Precisely adjusted or measured to ensure accuracy and alignment." data-portuguese="Calibradas">Calibrated</span>
                <span class="clickable-term" data-term="Structure repayment installments" data-definition="To organize the schedule and amount of loan repayments to fit the borrower's cash flow." data-portuguese="Estruturar parcelas de pagamento">Structure repayment installments</span>
                <span class="clickable-term" data-term="Harvest seasons" data-definition="The periods when crops are gathered; refers to cyclical business income for agricultural clients." data-portuguese="Per√≠odos de colheita">Harvest seasons</span>
                <span class="clickable-term" data-term="Allocate funds" data-definition="To set aside or distribute money for a specific purpose or recipient." data-portuguese="Alocar fundos">Allocate funds</span>
                <span class="clickable-term" data-term="Predefined thresholds" data-definition="Specific limits or criteria that, if exceeded, require a particular action or review." data-portuguese="Limites predefinidos">Predefined thresholds</span>
                <span class="clickable-term" data-term="Projects triggering" data-definition="Projects that meet certain criteria, thereby activating or necessitating a specific process or framework." data-portuguese="Projetos que acionam">Projects triggering</span>
                <span class="clickable-term" data-term="Equator Principles" data-definition="International risk management framework for project finance." data-portuguese="Princ√≠pios do Equador">Equator Principles</span>
                <span class="clickable-term" data-term="Portfolio Surveillance" data-definition="Continuous tracking of covenant compliance through regular financial disclosures from the client." data-portuguese="Monitoramento de Portf√≥lio">Portfolio Surveillance</span>
                <span class="clickable-term" data-term="Early-Warning Triggers" data-definition="Automated alerts deployed to notify of payment delays or ESG incidents." data-portuguese="Gatilhos de Alerta Antecipado">Early-Warning Triggers</span>
                <span class="clickable-term" data-term="Dynamic Reassessment" data-definition="Proactively adjusting risk ratings based on new information or events." data-portuguese="Reavalia√ß√£o Din√¢mica">Dynamic Reassessment</span>
                <span class="clickable-term" data-term="Proactive Challenge" data-definition="Detecting emerging risks through constant sector intelligence and client dialogue." data-portuguese="Desafio Proativo">Proactive Challenge</span>
            </div>
            <div id="termDefinitionDisplay" class="mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center hidden">
                <!-- Definition will appear here -->
            </div>
        </div>

        <!-- Select Your Top 10 Picks Section -->
        <div class="section-box max-w-4xl w-full border-pink-600 border-2 bg-gradient-to-br from-gray-900 to-gray-800 mt-8">
            <h3 class="text-3xl font-bold mb-4 text-pink-300 flex items-center justify-center">
                ‚≠ê Select Your Top 10 Picks! ‚≠ê
            </h3>
            <p class="text-gray-300 mb-4 text-center">
                Choose up to 10 terms that you find most important or interesting.
            </p>
            <div id="topPicksTermsContainer" class="flex flex-wrap justify-center gap-2 mb-6 max-h-60 overflow-y-auto p-2 rounded-lg bg-gray-700 border border-gray-600">
                <!-- Selectable terms will be dynamically added here -->
            </div>

            <div id="topPicksFeedback" class="text-center text-pink-400 mb-4 hidden">
                <!-- Feedback messages will appear here -->
            </div>

            <h4 class="text-xl font-bold mb-3 text-pink-200 text-center">Your Current Top Picks: (<span id="topPicksCount">0</span>/10)</h4>
            <div id="selectedTopPicksDisplay" class="space-y-2 p-2 rounded-lg bg-gray-700 border border-gray-600 min-h-[5rem]">
                <!-- Selected terms will be displayed here -->
            </div>
        </div>

    </div>

    <script>
        // Three.js variables
        let scene, camera, renderer;
        let mouseX = 0, mouseY = 0;
        let targetX = 0, targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;
        let particles; // To hold the particle system

        // Initialize the Three.js scene
        function init() {
            const container = document.getElementById('three-container');

            // Scene setup: A dark, elegant atmosphere
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0a0a); // Very dark gray/black

            // Camera setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 100; // Position camera further back

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // Add subtle lights
            const ambientLight = new THREE.AmbientLight(0x404040); // Soft white light
            scene.add(ambientLight);
            const pointLight = new THREE.PointLight(0xffffff, 1, 1000);
            pointLight.position.set(0, 0, 100);
            scene.add(pointLight);

            // Create a particle system for the elegant dark background
            const particleCount = 1500;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            const color = new THREE.Color();

            for (let i = 0; i < particleCount; i++) {
                // Position particles randomly in a cube
                positions[i * 3] = (Math.random() * 2 - 1) * 500;
                positions[i * 3 + 1] = (Math.random() * 2 - 1) * 500;
                positions[i * 3 + 2] = (Math.random() * 2 - 1) * 500;

                // Assign random dark, subtle colors (e.g., shades of blue, purple, gray)
                const hue = Math.random() * 0.1 + 0.6; // Blue to purple range
                const saturation = 0.5;
                const lightness = Math.random() * 0.1 + 0.1; // Dark shades
                color.setHSL(hue, saturation, lightness);

                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            // Use PointsMaterial for the particles
            const material = new THREE.PointsMaterial({
                size: 1.5, // Small particle size
                vertexColors: true, // Use vertex colors
                blending: THREE.AdditiveBlending, // For glowing effect
                transparent: true,
                opacity: 0.8
            });

            particles = new THREE.Points(geometry, material);
            scene.add(particles);

            // Event listeners for interactivity
            document.addEventListener('mousemove', onDocumentMouseMove);
            window.addEventListener('resize', onWindowResize);
        }

        // Handle mouse movement for camera control
        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        }

        // Handle window resizing
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Move camera slightly based on mouse position
            targetX = mouseX * 0.001;
            targetY = mouseY * 0.001;

            camera.rotation.y += 0.05 * (targetX - camera.rotation.y);
            camera.rotation.x += 0.05 * (targetY - camera.rotation.x);

            // Rotate particles slowly for a subtle dynamic effect
            if (particles) {
                particles.rotation.x += 0.0005;
                particles.rotation.y += 0.0008;
            }

            renderer.render(scene, camera);
        }

        // Start the animation on window load.
        window.onload = function () {
            init();
            animate();
            setupGeminiFeature(); // Setup the Gemini API feature after the page loads
            setupExerciseFeature(); // Setup the main quiz exercise feature
            setupVocabularyExercise(); // Setup the new vocabulary exercise
            setupClickableTerms(); // Setup the original clickable terms exercise
            setupTopPicksSelection(); // Setup the new Top Picks selection feature
        };

        // --- Gemini API Feature Logic ---
        function setupGeminiFeature() {
            const generatePitchBtn = document.getElementById('generatePitchBtn');
            const businessTypeInput = document.getElementById('businessType');
            const financingNeedInput = document.getElementById('financingNeed');
            const pitchOutput = document.getElementById('pitchOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            generatePitchBtn.addEventListener('click', async () => {
                const businessType = businessTypeInput.value.trim();
                const financingNeed = financingNeedInput.value.trim();

                if (!businessType || !financingNeed) {
                    pitchOutput.textContent = "Please enter both business type and financing need.";
                    pitchOutput.classList.remove('hidden');
                    return;
                }

                loadingIndicator.classList.remove('hidden');
                pitchOutput.classList.add('hidden');
                pitchOutput.textContent = ''; // Clear previous output

                const prompt = `As a Relationship Manager at Ita√∫ Unibanco, generate a concise and compelling credit pitch for a client.
                Client Business Type: ${businessType}.
                Financing Need: ${financingNeed}.
                The pitch should highlight how Ita√∫ can meet this need, emphasizing our comprehensive approach to risk assessment and tailored financial solutions, and potentially mentioning relevant programs like '2X SME initiatives' if applicable. Focus on Ita√∫'s dual mandate of economic growth and responsible governance. Keep it professional and persuasive.`;

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Canvas will automatically provide this in runtime
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(payload)
                            });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        pitchOutput.textContent = text;
                        pitchOutput.classList.remove('hidden');
                    } else {
                        pitchOutput.textContent = "Failed to generate pitch. Please try again.";
                        pitchOutput.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    pitchOutput.textContent = "An error occurred while generating the pitch. Please check the console for details.";
                    pitchOutput.classList.remove('hidden');
                } finally {
                    loadingIndicator.classList.add('hidden');
                }
            });
        }

        // --- Quick Check Quiz Logic ---
        function setupExerciseFeature() {
            const questionTextElement = document.getElementById('questionText');
            const exerciseAnswerInput = document.getElementById('exerciseAnswer');
            const checkAnswerBtn = document.getElementById('checkAnswerBtn');
            const showAnswerBtn = document.getElementById('showAnswerBtn');
            const nextQuestionBtn = document.getElementById('nextQuestionBtn');
            const exerciseFeedback = document.getElementById('exerciseFeedback');
            const correctAnswerDisplay = document.getElementById('correctAnswerDisplay');

            let currentQuestionIndex = 0;
            const questions = [
                {
                    question: 'What are the "Five Cs" primarily used to assess for SMEs in the credit approval process?',
                    answer: 'creditworthiness'
                },
                {
                    question: 'Which specific group of enterprises do Ita√∫\'s "2X SME initiatives" target?',
                    answer: 'women-led'
                },
                {
                    question: 'Name one key area that the Environmental and Social Risk Committee protocols evaluate during ESG integration.',
                    answer: 'land use legality' // or 'climate vulnerability' or 'labor practices'
                },
                {
                    question: 'In Phase 1, what does the Relationship Manager "immerse myself" in to understand the client\'s world?',
                    answer: 'client\'s world' // or 'their world'
                },
                {
                    question: 'What kind of conversation is the Discovery Meeting in Phase 1?',
                    answer: 'in-depth'
                },
                {
                    question: 'What is evaluated during "Business Model Dissection" in Phase 1 (e.g., revenue streams, market positioning, competitive advantages, or unique value proposition)?',
                    answer: 'revenue streams' // or 'market positioning', 'competitive advantages', 'unique value proposition'
                },
                {
                    question: 'What is a "hurdle" in the context of uncovering hidden operational risks?',
                    answer: 'difficulty' // or 'obstacle'
                },
                {
                    question: 'In Phase 3, what action is taken to align interest rates with a client\'s credit risk rating?',
                    answer: 'calibrated'
                },
                {
                    question: 'For agribusiness clients, repayment installments might be structured around which specific periods?',
                    answer: 'harvest seasons'
                },
                {
                    question: 'In Phase 4, cases exceeding what require review by the Environmental and Social Risk Committee?',
                    answer: 'predefined thresholds'
                }
            ];

            function displayQuestion() {
                if (currentQuestionIndex < questions.length) {
                    const q = questions[currentQuestionIndex];
                    questionTextElement.textContent = `Question ${currentQuestionIndex + 1}/${questions.length}: ${q.question}`;
                    exerciseAnswerInput.value = '';
                    exerciseFeedback.classList.add('hidden');
                    correctAnswerDisplay.classList.add('hidden');
                    nextQuestionBtn.classList.add('hidden'); // Hide next button until answer is checked
                    checkAnswerBtn.classList.remove('hidden'); // Ensure check button is visible
                    showAnswerBtn.classList.remove('hidden'); // Ensure show button is visible
                    exerciseAnswerInput.disabled = false; // Enable input
                } else {
                    questionTextElement.textContent = 'Quiz complete! You\'ve answered all the questions.';
                    exerciseAnswerInput.classList.add('hidden');
                    checkAnswerBtn.classList.add('hidden');
                    showAnswerBtn.classList.add('hidden');
                    nextQuestionBtn.classList.add('hidden');
                    exerciseFeedback.classList.remove('hidden');
                    exerciseFeedback.textContent = 'Congratulations on completing the quiz!';
                    exerciseFeedback.className = 'mt-4 p-3 bg-indigo-800 border border-indigo-600 rounded-lg text-indigo-200 text-center';
                    correctAnswerDisplay.classList.add('hidden');
                }
            }

            checkAnswerBtn.addEventListener('click', () => {
                const userAnswer = exerciseAnswerInput.value.trim().toLowerCase();
                const q = questions[currentQuestionIndex];
                exerciseFeedback.classList.remove('hidden');
                correctAnswerDisplay.classList.add('hidden'); // Hide correct answer if shown

                if (q.answer.toLowerCase().includes(userAnswer) && userAnswer.length > 0) { // Basic check for partial match if answer is a phrase
                    exerciseFeedback.textContent = "Correct! Well done!";
                    exerciseFeedback.className = 'mt-4 p-3 bg-green-800 border border-green-600 rounded-lg text-green-200 text-center';
                    nextQuestionBtn.classList.remove('hidden'); // Show next button
                    exerciseAnswerInput.disabled = true; // Disable input after correct answer
                    checkAnswerBtn.classList.add('hidden'); // Hide check button after correct answer
                    showAnswerBtn.classList.add('hidden'); // Hide show answer button
                } else {
                    exerciseFeedback.textContent = "That's not quite right. Please try again or show answer!";
                    exerciseFeedback.className = 'mt-4 p-3 bg-red-800 border border-red-600 rounded-lg text-red-200 text-center';
                    nextQuestionBtn.classList.add('hidden'); // Keep next button hidden
                }
            });

            showAnswerBtn.addEventListener('click', () => {
                const q = questions[currentQuestionIndex];
                correctAnswerDisplay.textContent = `The correct answer is: ${q.answer}.`;
                correctAnswerDisplay.classList.remove('hidden');
                exerciseFeedback.classList.add('hidden'); // Hide feedback if shown
                correctAnswerDisplay.className = 'mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center';
                nextQuestionBtn.classList.remove('hidden'); // Allow to move to next question
                exerciseAnswerInput.disabled = true; // Disable input
                checkAnswerBtn.classList.add('hidden'); // Hide check button
                showAnswerBtn.classList.add('hidden'); // Hide show answer button
            });

            nextQuestionBtn.addEventListener('click', () => {
                currentQuestionIndex++;
                displayQuestion();
            });

            // Initialize the first question on setup
            displayQuestion();
        }

        // --- Vocabulary Fill-in-the-Blanks Exercise Logic ---
        function setupVocabularyExercise() {
            const vocabularyQuestionTextElement = document.getElementById('vocabularyQuestionText');
            const vocabularyAnswerInput = document.getElementById('vocabularyAnswer');
            const checkVocabularyBtn = document.getElementById('checkVocabularyBtn');
            const showVocabularyAnswerBtn = document.getElementById('showVocabularyAnswerBtn');
            const nextVocabularyQuestionBtn = document.getElementById('nextVocabularyQuestionBtn');
            const vocabularyFeedback = document.getElementById('vocabularyFeedback');

            let currentVocabQuestionIndex = 0;
            const vocabularyQuestions = [
                {
                    sentence: 'My objective is to guide them through our <span class="text-yellow-400">__________</span> credit approval process, ensuring their financial needs are met with tailored solutions while upholding Ita√∫\'s rigorous risk assessment standards.',
                    answer: 'comprehensive'
                },
                {
                    sentence: 'In Phase 1, I <span class="text-yellow-400">__________</span> myself in their world to truly grasp their operational and financial landscape.',
                    answer: 'immerse'
                },
                {
                    sentence: 'A significant <span class="text-yellow-400">__________</span> in Phase 1 is uncovering hidden operational risks or undisclosed liabilities.',
                    answer: 'hurdle'
                },
                {
                    sentence: 'In Phase 2, energy clients face <span class="text-yellow-400">__________</span> scrutiny under our coal phase-out commitment.',
                    answer: 'enhanced'
                },
                {
                    sentence: 'The five C\'s framework includes Character, Capacity, Capital, Conditions, and <span class="text-yellow-400">__________</span>.',
                    answer: 'collateral'
                },
                {
                    sentence: 'In Phase 3, repayment installments are structured to align with the client\'s unique business <span class="text-yellow-400">__________</span>.',
                    answer: 'cycles'
                },
                {
                    sentence: 'Ita√∫\'s "2X SME initiatives" specifically target <span class="text-yellow-400">__________</span>-led enterprises.',
                    answer: 'women'
                },
                {
                    sentence: 'In Phase 4, cases exceeding <span class="text-yellow-400">__________</span> thresholds require review by the Environmental and Social Risk Committee.',
                    answer: 'predefined'
                },
                {
                    sentence: 'Transactions in sensitive sectors like Amazonian meatpackers face specific SARB Directive No. 26 <span class="text-yellow-400">__________</span> to prevent complicity in deforestation.',
                    answer: 'audits'
                },
                {
                    sentence: 'In Phase 5, automated <span class="text-yellow-400">__________</span> are deployed to notify me of payment delays or ESG incidents.',
                    answer: 'alerts'
                }
            ];

            function displayVocabQuestion() {
                if (currentVocabQuestionIndex < vocabularyQuestions.length) {
                    const q = vocabularyQuestions[currentVocabQuestionIndex];
                    vocabularyQuestionTextElement.innerHTML = `Question ${currentVocabQuestionIndex + 1}/${vocabularyQuestions.length}: ${q.sentence}`;
                    vocabularyAnswerInput.value = '';
                    vocabularyFeedback.classList.add('hidden');
                    vocabularyAnswerInput.disabled = false;
                    checkVocabularyBtn.classList.remove('hidden');
                    showVocabularyAnswerBtn.classList.remove('hidden');
                    nextVocabularyQuestionBtn.classList.add('hidden'); // Hide next button initially
                } else {
                    vocabularyQuestionTextElement.textContent = 'Vocabulary quiz complete! You\'ve answered all the questions.';
                    vocabularyAnswerInput.classList.add('hidden');
                    checkVocabularyBtn.classList.add('hidden');
                    showVocabularyAnswerBtn.classList.add('hidden');
                    nextVocabularyQuestionBtn.classList.add('hidden');
                    vocabularyFeedback.classList.remove('hidden');
                    vocabularyFeedback.textContent = 'Great job completing the vocabulary exercise!';
                    vocabularyFeedback.className = 'mt-4 p-3 bg-indigo-800 border border-indigo-600 rounded-lg text-indigo-200 text-center';
                }
            }

            checkVocabularyBtn.addEventListener('click', () => {
                const userAnswer = vocabularyAnswerInput.value.trim().toLowerCase();
                const q = vocabularyQuestions[currentVocabQuestionIndex];
                vocabularyFeedback.classList.remove('hidden');

                if (userAnswer === q.answer.toLowerCase()) {
                    vocabularyFeedback.textContent = "Correct! You got it!";
                    vocabularyFeedback.className = 'mt-4 p-3 bg-green-800 border border-green-600 rounded-lg text-green-200 text-center';
                    vocabularyAnswerInput.disabled = true;
                    checkVocabularyBtn.classList.add('hidden');
                    showVocabularyAnswerBtn.classList.add('hidden');
                    nextVocabularyQuestionBtn.classList.remove('hidden'); // Show next button after correct answer
                } else {
                    vocabularyFeedback.textContent = "Not quite. Try again!";
                    vocabularyFeedback.className = 'mt-4 p-3 bg-red-800 border border-red-600 rounded-lg text-red-200 text-center';
                    nextVocabularyQuestionBtn.classList.add('hidden'); // Keep next button hidden
                }
            });

            showVocabularyAnswerBtn.addEventListener('click', () => {
                const q = vocabularyQuestions[currentVocabQuestionIndex];
                vocabularyFeedback.classList.remove('hidden');
                vocabularyFeedback.textContent = `The correct word is: "${q.answer}".`;
                vocabularyFeedback.className = 'mt-4 p-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 text-center';
                vocabularyAnswerInput.disabled = true;
                checkVocabularyBtn.classList.add('hidden');
                showVocabularyAnswerBtn.classList.add('hidden');
                nextVocabularyQuestionBtn.classList.remove('hidden'); // Show next button after showing answer
            });

            nextVocabularyQuestionBtn.addEventListener('click', () => {
                currentVocabQuestionIndex++;
                displayVocabQuestion();
            });

            // Initialize the first vocabulary question on setup
            displayVocabQuestion();
        }

        // --- Interactive Vocabulary: Click to Learn! Logic ---
        function setupClickableTerms() {
            const clickableTerms = document.querySelectorAll('.clickable-term');
            const termDefinitionDisplay = document.getElementById('termDefinitionDisplay');

            clickableTerms.forEach(termElement => {
                termElement.addEventListener('click', () => {
                    const term = termElement.dataset.term;
                    const definition = termElement.dataset.definition;
                    const portuguese = termElement.dataset.portuguese; // Get Portuguese term
                    termDefinitionDisplay.textContent = `"${term}" (${portuguese}): ${definition}`; // Display both
                    termDefinitionDisplay.classList.remove('hidden');
                });
            });
        }

        // --- Select Your Top 10 Picks! Logic ---
        function setupTopPicksSelection() {
            const topPicksTermsContainer = document.getElementById('topPicksTermsContainer');
            const selectedTopPicksDisplay = document.getElementById('selectedTopPicksDisplay');
            const topPicksFeedback = document.getElementById('topPicksFeedback');
            const topPicksCountElement = document.getElementById('topPicksCount');

            const allTermsData = [
                { term: "Role", definition: "Your specific functions and responsibilities within the bank.", portuguese: "Fun√ß√£o" },
                { term: "Primary point of contact", definition: "The main person clients interact with for their banking needs.", portuguese: "Ponto de contato principal" },
                { term: "Comprehensive", definition: "All-encompassing; covering all necessary aspects of the credit process.", portuguese: "Abrangente" },
                { term: "Tailored solutions", definition: "Financial products and services customized to fit individual client needs.", portuguese: "Solu√ß√µes personalizadas" },
                { term: "Upholding", definition: "Maintaining or supporting; ensuring standards are met consistently.", portuguese: "Mantendo/Apoiando" },
                { term: "Rigorous", definition: "Extremely thorough and careful; strict and precise.", portuguese: "Rigoroso" },
                { term: "Risk assessment", definition: "The process of identifying, evaluating, and estimating the levels of risk involved in a financial transaction.", portuguese: "Avalia√ß√£o de risco" },
                { term: "Blend", definition: "A mix or combination of different elements or skills.", portuguese: "Mistura" },
                { term: "Advocacy", definition: "Active support of a cause or policy; representing and championing the client's needs within the bank.", portuguese: "Defesa/Apoio" },
                { term: "Immerse myself", definition: "To become deeply involved or absorbed in understanding the client's business.", portuguese: "Imers√£o" },
                { term: "Grasp", definition: "To understand completely; to get a firm hold of the details.", portuguese: "Compreender" },
                { term: "Financial landscape", definition: "The overall economic and financial environment in which the client operates.", portuguese: "Cen√°rio financeiro" },
                { term: "In-depth conversation", definition: "A detailed and thorough discussion to uncover all relevant information.", portuguese: "Conversa aprofundada" },
                { term: "Business model dissection", definition: "A detailed analysis of how a company creates, delivers, and captures value.", portuguese: "Disseca√ß√£o do modelo de neg√≥cios" },
                { term: "Revenue streams", definition: "The various sources from which a business generates income.", portuguese: "Fluxos de receita" },
                { term: "Unique value proposition", definition: "What makes a company's products or services distinct and appealing to customers.", portuguese: "Proposta de valor √∫nica" },
                { term: "Feasibility Screening", definition: "Initial assessment to determine if a project or financing request is viable.", portuguese: "Triagem de viabilidade" },
                { term: "Comply with", definition: "To act in accordance with a rule, regulation, or request.", portuguese: "Estar em conformidade com" },
                { term: "Environmental embargoes", definition: "Legal prohibitions or restrictions imposed due to environmental violations.", portuguese: "Embargos ambientais" },
                { term: "Deforestation", definition: "The clearing of forests by cutting down or burning trees.", portuguese: "Desmatamento" },
                { term: "Hurdle", definition: "A difficulty or obstacle.", portuguese: "Obst√°culo" },
                { term: "Undisclosed liabilities", definition: "Debts or obligations that are not openly revealed or accounted for.", portuguese: "Passivos n√£o divulgados" },
                { term: "Thorough", definition: "Complete and exhaustive; careful and precise.", portuguese: "Completo/Minucioso" },
                { term: "Deep-dive", definition: "A thorough and detailed investigation or analysis.", portuguese: "An√°lise aprofundada" },
                { term: "Feasibility", definition: "The state or degree of being easily or conveniently done; practicability.", portuguese: "Viabilidade" },
                { term: "SMEs", definition: "Small and Medium-sized Enterprises.", portuguese: "PMEs" },
                { term: "Five Cs framework", definition: "Character, Capacity, Capital, Conditions, Collateral - core for assessing creditworthiness.", portuguese: "Estrutura dos Cinco Cs" },
                { term: "Track record", definition: "The past achievements or failures of a person, organization, or product.", portuguese: "Hist√≥rico" },
                { term: "Enhanced scrutiny", definition: "Increased or more careful examination and inspection.", portuguese: "An√°lise aprimorada" },
                { term: "Coal phase-out commitment", definition: "An agreement to gradually stop the use of coal, often in power generation.", portuguese: "Compromisso de descarboniza√ß√£o do carv√£o" },
                { term: "Flood zones", definition: "Areas identified by flood hazard mapping where there is a risk of flooding.", portuguese: "Zonas de inunda√ß√£o" },
                { term: "Adherence", definition: "Sticking fast to a rule, principle, or belief.", portuguese: "Ades√£o" },
                { term: "Design a customized financial solution", definition: "To create a financial product or service that is specifically adapted to a client's unique needs and circumstances.", portuguese: "Desenhar uma solu√ß√£o financeira personalizada" },
                { term: "Calibrated", definition: "Precisely adjusted or measured to ensure accuracy and alignment.", portuguese: "Calibradas" },
                { term: "Structure repayment installments", definition: "To organize the schedule and amount of loan repayments to fit the borrower's cash flow.", portuguese: "Estruturar parcelas de pagamento" },
                { term: "Harvest seasons", definition: "The periods when crops are gathered; refers to cyclical business income for agricultural clients.", portuguese: "Per√≠odos de colheita" },
                { term: "Allocate funds", definition: "To set aside or distribute money for a specific purpose or recipient.", portuguese: "Alocar fundos" },
                { term: "Predefined thresholds", definition: "Specific limits or criteria that, if exceeded, require a particular action or review.", portuguese: "Limites predefinidos" },
                { term: "Projects triggering", definition: "Projects that meet certain criteria, thereby activating or necessitating a specific process or framework.", portuguese: "Projetos que acionam" },
                { term: "Equator Principles", definition: "International risk management framework for project finance.", portuguese: "Princ√≠pios do Equador" },
                { term: "Portfolio Surveillance", definition: "Continuous tracking of covenant compliance through regular financial disclosures from the client.", portuguese: "Monitoramento de Portf√≥lio" },
                { term: "Early-Warning Triggers", definition: "Automated alerts deployed to notify of payment delays or ESG incidents.", portuguese: "Gatilhos de Alerta Antecipado" },
                { term: "Dynamic Reassessment", definition: "Proactively adjusting risk ratings based on new information or events.", portuguese: "Reavalia√ß√£o Din√¢mica" },
                { term: "Proactive Challenge", definition: "Detecting emerging risks through constant sector intelligence and client dialogue.", portuguese: "Desafio Proativo" }
            ];

            const selectedTopPicks = new Set(); // Using a Set for efficient uniqueness checks

            // Function to display feedback messages
            function showTopPicksFeedback(message, isError = false) {
                topPicksFeedback.textContent = message;
                topPicksFeedback.classList.remove('hidden');
                topPicksFeedback.className = `text-center mb-4 ${isError ? 'text-red-400' : 'text-green-400'}`;
            }

            // Function to render the selectable terms
            function renderSelectableTerms() {
                topPicksTermsContainer.innerHTML = ''; // Clear previous terms
                allTermsData.sort((a, b) => a.term.localeCompare(b.term)).forEach(termData => {
                    const termWrapper = document.createElement('div');
                    termWrapper.className = 'flex items-center gap-1 bg-gray-800 rounded-full px-3 py-1 text-sm text-gray-200 border border-gray-600';
                    termWrapper.dataset.term = termData.term; // Store term name for easy lookup

                    const termSpan = document.createElement('span');
                    termSpan.textContent = termData.term;
                    termWrapper.appendChild(termSpan);

                    const selectButton = document.createElement('button');
                    selectButton.textContent = '+ Add';
                    selectButton.className = 'ml-2 select-btn';
                    selectButton.setAttribute('title', `Add "${termData.term}" to your top picks`);
                    selectButton.onclick = () => addTermToTopPicks(termData.term, termData.definition, selectButton);

                    // Disable button if already selected
                    if (selectedTopPicks.has(termData.term)) {
                        selectButton.disabled = true;
                        selectButton.textContent = 'Added';
                    }
                    // Disable if max picks reached and this term is not already selected
                    if (selectedTopPicks.size >= 10 && !selectedTopPicks.has(termData.term)) {
                        selectButton.disabled = true;
                    }

                    termWrapper.appendChild(selectButton);
                    topPicksTermsContainer.appendChild(termWrapper);
                });
            }

            // Function to render the selected top picks
            function renderSelectedTopPicks() {
                selectedTopPicksDisplay.innerHTML = ''; // Clear previous display
                topPicksCountElement.textContent = selectedTopPicks.size;

                if (selectedTopPicks.size === 0) {
                    const noPicksMessage = document.createElement('p');
                    noPicksMessage.className = 'text-gray-400 text-center py-4';
                    noPicksMessage.textContent = 'No terms selected yet.';
                    selectedTopPicksDisplay.appendChild(noPicksMessage);
                } else {
                    selectedTopPicks.forEach(term => {
                        const termItem = document.createElement('div');
                        termItem.className = 'term-selection-item';

                        const termText = document.createElement('span');
                        termText.textContent = term;
                        termItem.appendChild(termText);

                        const removeButton = document.createElement('button');
                        removeButton.textContent = 'Remove';
                        removeButton.className = 'remove-btn ml-4';
                        removeButton.setAttribute('title', `Remove "${term}" from your top picks`);
                        removeButton.onclick = () => removeTermFromTopPicks(term, removeButton);
                        termItem.appendChild(removeButton);

                        selectedTopPicksDisplay.appendChild(termItem);
                    });
                }
                updateAllSelectButtonsState(); // Update all buttons after any change
            }

            // Function to add a term to top picks
            function addTermToTopPicks(term, definition, buttonElement) {
                if (selectedTopPicks.has(term)) {
                    showTopPicksFeedback(`"${term}" is already in your top picks!`, true);
                    return;
                }
                if (selectedTopPicks.size >= 10) {
                    showTopPicksFeedback('You can only select up to 10 terms!', true);
                    return;
                }

                selectedTopPicks.add(term);
                renderSelectedTopPicks();
                buttonElement.disabled = true;
                buttonElement.textContent = 'Added';
                showTopPicksFeedback(`"${term}" added to your top picks!`);
            }

            // Function to remove a term from top picks
            function removeTermFromTopPicks(term, buttonElement) {
                selectedTopPicks.delete(term);
                renderSelectedTopPicks();
                showTopPicksFeedback(`"${term}" removed from your top picks.`);
            }

            // Function to update the disabled state of all "Add" buttons
            function updateAllSelectButtonsState() {
                const allAddButtons = topPicksTermsContainer.querySelectorAll('.select-btn');
                allAddButtons.forEach(button => {
                    const termName = button.parentElement.dataset.term;
                    if (selectedTopPicks.has(termName)) {
                        button.disabled = true;
                        button.textContent = 'Added';
                    } else if (selectedTopPicks.size >= 10) {
                        button.disabled = true;
                        button.textContent = 'Max Reached';
                    } else {
                        button.disabled = false;
                        button.textContent = '+ Add';
                    }
                });
            }

            // Initial render calls
            renderSelectableTerms();
            renderSelectedTopPicks();
        }
    </script>
</body>
</html>
